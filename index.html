<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <script type="module" src="global.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Diabetes - An Interactive Visualization</title>
</head>
<body>
    <h1>Understanding Diabetes</h1>
    <h2 class="subheading">An Interactive Visualization Explaining Causes, Risk Factors, Indicators, and Prevalence of Diabetes</h2>
    <h3 class="subheading">By Andy Huang, Caden Pascual, Sage Yang, Isaiah Ton</h3>

    <div id="intro" class="section visible">
        <p>
            Diabetes is a chronic disease that affects how insulin is processed in the body. It is a serious disease that can result in blindness, kidney failure, heart attacks, stroke and lower limb amputation.
            According to the <a href="https://www.who.int/health-topics/diabetes#tab=tab_1" target="_blank">World Health Organization</a>, the number of people living with diabetes rose from 200 million in 1990 to 830 million in 2022, with increasing prevalence in low and middle income countries.
        </p>
        <br>
        <p>
            In this interactive visualization, you will find out more about diabetes, including the factors and risks related to the disease.
            You might also challenge some of the assumptions you might have heard about diabetes.
        </p>
        <br>
        <div id="video-container">
          <div id="video-preview">
            <img src="https://img.youtube.com/vi/aNaG7EsRoBM/0.jpg" alt="Video preview">
            <div id="play-button">▶</div>
          </div>
        </div>
        <p>
            First, let's get a sense of scale. 
            The following visualization shows the prevalence of diabetes in different countries.
        </p>
    </div>

    <div id="visualization" class="section" style="display:none;">
        <div id="yaxis-selector">
            <label for="select-yaxis">Select Y-Axis:</label>
            <select id="select-yaxis">
                <option value="Dexcom">Glucose</option>
                <option value="HR">Heart Rate</option>
            </select>
        </div>
        <div id="main-container">
            <div class="container">
                <svg id="chart"></svg>
            </div>
            <div id="sidebar">
                <label id="select-dropdown">
                    Select Person:
                    <select id="select-dataset">
                        <option value="001">Participant 1</option>
                        <option value="002">Participant 2</option>
                        <option value="004">Participant 4</option>
                        <option value="005">Participant 5</option>
                        <option value="006">Participant 6</option>
                        <option value="008">Participant 8</option>
                        <option value="009">Participant 9</option>
                        <option value="010">Participant 10</option>
                        <option value="011">Participant 11</option>
                        <option value="012">Participant 12</option>
                        <option value="014">Participant 14</option>
                    </select>
                </label>
                <div id="filter-container">
                    <label for="filter-type">Filter by:</label>
                    <select id="filter-type">
                        <option value="calories">Calories</option>
                        <option value="sugar">Sugar</option>
                        <option value="dietary_fiber">Dietary Fiber</option>
                        <option value="total_fat">Total Fat</option>
                        <option value="protein">Protein</option>
                        <option value="total_carb">Total Carbs</option>
                    </select>
                    <label for="filter-slider">Threshold:</label>
                    <input type="range" id="filter-slider" min="0" max="1000" step="1" value="500">
                    <span id="filter-value">500</span>
                    <label for="filter-toggle">Enable Filter:
                        <input type="checkbox" id="filter-toggle">
                    </label>
                </div>
            </div>
        </div>
        <div id="tooltip">
            <table>
                <thead>
                    <tr id="food-time">
                        <th colspan="5" style="color:chocolate"><i>Hover a green point to begin.</i></th>
                    </tr>
                    <tr>
                        <th>Food</th>
                        <th>Calories</th>
                        <th>Sugar (g)</th>
                        <th>Fiber (g)</th>
                        <th>Fat (g)</th>
                        <th>Protein (g)</th>
                        <th>Carbs (g)</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <div id="guessing-section" class="section" style="display:none;">
        <h2>Guessing Game: What Contributes to Diabetes?</h2>
        <p>Select all factors or indicators you think might contribute to diabetes:</p>
        <form id="guessing-form">
          <label>
            <input type="checkbox" name="factors" value="High Fasting Glucose Levels">
            High Fasting Glucose Levels
          </label>
          <br />
          <label>
            <input type="checkbox" name="factors" value="Foods High in Fat">
            Foods High in Fat
          </label>
          <br />
          <label>
            <input type="checkbox" name="factors" value="Gender">
            Gender
          </label>
          <br />
          <label>
            <input type="checkbox" name="factors" value="Foods High in Sugar">
            Foods High in Sugar
          </label>
          <br />
          <label>
            <input type="checkbox" name="factors" value="Age">
            Age
          </label>
          <br />
          <label>
            <input type="checkbox" name="factors" value="Stress">
            Stress
          </label>
          <br />
          <label>
            <input type="checkbox" name="factors" value="Sedentary Lifestyle">
            Sedentary Lifestyle
          </label>
          <br />
          <button type="button" id="submit-guesses">Submit Guesses</button>
        </form>
        <div id="guessing-results"></div>
    </div>

    <div id="global-section" class="section" style="display:none;">
        <h2 style="font-size: medium;">
            Diabetes Prevalence in Different Countries
        </h2>
        <div id="global-stats"></div>
        <p>
            This chart shows the percentage prevalance of diabetes within different countries and income groups.
            Data is compiled from the World Bank data on diabetic indicators, using data from 2021.
        </p>
        <br />
        <div id="country-search">
            <label>
                Country:
                <input type="text" id="country-input" placeholder="Search for your country...">
            </label>
        </div>
    </div>

    <div id="writeup" class="section writeup" style="display:none;">
        <h2>Team GG</h2>
        <ul>
            <li>Andy Huang</li>
            <li>Caden Pascual</li>
            <li>Sage Yang</li>
            <li>Isaiah Ton</li>
        </ul>
        <h3>Project Prototype Writeup</h3>
        <p>
            Diabetes is a complex topic that has many different factors that can contribute to its development.
            Our project aims to provide an interactive visualization that will help users understand the causes, risk factors, indicators, and prevalence of diabetes while 
            also trying to debunk common myths about the disease and its relationships with macronutrients such as sugar.
            Many believe sugar to be the main cause of diabetes, but in reality, it is a combination of many factors that can lead to the development of the disease.
        </p>
        <p>
            Diabetes is a complex condition influenced by a wide range of factors—far more than can be shown here. 
            With this project, we aim to provide an interactive visualization that highlights a few of the causes, 
            risk factors, indicators, and prevalence rates of diabetes, while also debunking common misconceptions 
            about its relationship to specific macronutrients like sugar.
        </p>
        <p>
            Although sugar often takes the blame, diabetes actually arises from a complex interplay of genetics, 
            lifestyle, and diet, among other factors. By exploring our visualizations, we hope you gain a clearer 
            understanding of this multi-faceted disease.
        </p>
        <p>
            For further information on diabetes research, support, and guidelines, please visit:
            <br><br>
            <a href="https://www.niddk.nih.gov/about-niddk/research-areas/diabetes" target="_blank" rel="noopener noreferrer">
                National Institute of Diabetes and Digestive and Kidney Diseases (NIDDK)
            </a>
            <br>
            <a href="https://diabetesresearch.org/" target="_blank" rel="noopener noreferrer">
                Diabetes Research Institute
            </a>
            <br>
            <a href="https://diabetes.org/" target="_blank" rel="noopener noreferrer">
                American Diabetes Association
            </a>
        </p>
    </div>

    <button id="prev-button" style="display:none;">
      <img src="./assets/next.png" width="30" height="30" style="position: relative; transform: rotate(180deg);">
    </button>
    <button id="next-button">
      <img src="./assets/next.png" width="30" height="30" style="position: relative;">
    </button>
    <script>
document.addEventListener("DOMContentLoaded", function() {
  const videoPreview = document.getElementById("video-preview");
  videoPreview.addEventListener("click", function() {
    const iframe = document.createElement("iframe");
    iframe.src = "https://www.youtube.com/embed/aNaG7EsRoBM?autoplay=1";
    iframe.width = "560";
    iframe.height = "315";
    iframe.frameBorder = "0";
    iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
    iframe.allowFullscreen = true;
    videoPreview.parentNode.replaceChild(iframe, videoPreview);
  });
});
    </script>
</body>
</html>
