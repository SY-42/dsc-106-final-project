<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <script type="module" src="global.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Diabetes - An Interactive Visualization</title>
</head>
<body>

    <h1>Understanding Diabetes</h1>
    <h2 id="subheading">An Interactive Visualization Explaining Causes, Risk Factors, Indicators, and Prevalence of Diabetes</h2>

    <div id="intro" class="section visible">
        <p>
            Diabetes is a chronic disease that occurs when the body cannot effectively use insulin, a hormone that regulates blood sugar levels. 
            This can lead to high blood sugar levels, which can cause a range of health problems over time. 
            There are two main types of diabetes: Type 1 and Type 2. 
            Type 1 diabetes is an autoimmune disease that occurs when the body attacks and destroys the cells in the pancreas that produce insulin. 
            Type 2 diabetes is more common and occurs when the body becomes resistant to insulin or does not produce enough insulin.
        </p>
    </div>

    <div id="visualization" class="section" style="display:none;">
        <!-- Y-Axis Selector -->
        <div id="yaxis-selector">
            <label for="select-yaxis">Select Y-Axis:</label>
            <select id="select-yaxis">
                <option value="Dexcom">Glucose</option>
                <option value="HR">Heart Rate</option>
            </select>
        </div>
        
        <div id="main-container">
            <div class="container">
                <svg id="chart"></svg>
            </div>
            
            <!-- Select Participant Dropdown -->
            <div id="sidebar">
                <label id="select-dropdown">
                    Select Person:
                    <select id="select-dataset">
                        <option value="001">Participant 1</option>
                        <option value="002">Participant 2</option>
                        <option value="004">Participant 4</option>
                        <option value="005">Participant 5</option>
                        <option value="006">Participant 6</option>
                        <option value="008">Participant 8</option>
                        <option value="009">Participant 9</option>
                        <option value="010">Participant 10</option>
                        <option value="011">Participant 11</option>
                        <option value="012">Participant 12</option>
                        <option value="014">Participant 14</option>
                    </select>
                </label>
                
                <!-- Filter By Dropdown -->
                <div id="filter-container">
                    <label for="filter-type">Filter by:</label>
                    <select id="filter-type">
                        <option value="calories">Calories</option>
                        <option value="sugar">Sugar</option>
                        <option value="dietary_fiber">Dietary Fiber</option>
                        <option value="total_fat">Total Fat</option>
                        <option value="protein">Protein</option>
                        <option value="total_carb">Total Carbs</option>
                    </select>
                    <label for="filter-slider">Threshold:</label>
                    <input type="range" id="filter-slider" min="0" max="1000" step="1" value="500">
                    <span id="filter-value">500</span>

                    <label for="filter-toggle">Enable Filter:  
                        <input type="checkbox" id="filter-toggle">
                    </label>
                </div>
            </div>
        </div>

        <!-- Table Hover Tooltip -->
        <div id="tooltip">
            <table>
                <thead>
                    <tr id="food-time">
                        <th colspan="5" style="color:chocolate"><i>Hover a green point to begin.</i></th>
                    </tr>
                    <tr>
                        <th>Food</th>
                        <th>Calories</th>
                        <th>Sugar (g)</th>
                        <th>Fiber (g)</th>
                        <th>Fat (g)</th>
                        <th>Protein (g)</th>
                        <th>Carbs (g)</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <div id="guessing-section" class="section" style="display:none;">
        <h2>Guessing Game: What Contributes to Diabetes?</h2>
        <p>Select all behaviors or factors you think might be correlated with developing diabetes:</p>
      
        <form id="guessing-form">
          <!-- Match checkbox values exactly to the correctFactors set -->
          <label>
            <input type="checkbox" name="factors" value="High Fasting Glucose Levels">
            High Fasting Glucose Levels
          </label>
          <br />
      
          <label>
            <input type="checkbox" name="factors" value="Sedentary Lifestyle">
            Sedentary Lifestyle
          </label>
          <br />
      
          <label>
            <input type="checkbox" name="factors" value="Foods High in Fat">
            Foods High in Fat
          </label>
          <br />
      
          <label>
            <input type="checkbox" name="factors" value="Gender">
            Gender
          </label>
          <br />
      
          <label>
            <input type="checkbox" name="factors" value="Age">
            Age
          </label>
          <br />
      
          <label>
            <input type="checkbox" name="factors" value="Stress">
            Stress
          </label>
          <br />
      
          <label>
            <input type="checkbox" name="factors" value="Sugar">
            Sugar
          </label>
          <br />
      
          <button type="button" id="submit-guesses">Submit Guesses</button>
        </form>
      
        <div id="guessing-results"></div>
      </div>
      
    
    


    <div id="global-section" class="section" style="display:none;">

        <h2>
            Diabetes Prevalence in Different Countries
        </h2>
        
        <div id="global-stats">
        </div>
        
        <div id="country-search">
            <label>
                Country: 
                <input type="text" id="country-input" placeholder="Search for your country...">
            </label>
            
        </div>

    </div>
    <div id="writeup" class="section writeup" style="display:none;">
        <h2>Team GG</h2>
        <ul>
            <li>Andy Huang</li>
            <li>Caden Pascual</li>
            <li>Sage Yang</li>
            <li>Isaiah Ton</li>
        </ul>
        <h3>
            Project Prototype Writeup
        </h3>
        <p>
            So far, we have worked on a guessing game of sorts that has viewers try to guess which factor belongs to someone who has or does not have diabetes.
            Factors include glucose levels, sedentary lifestyle, high fat/sugar foods and gender.
            We aim to have this guessing game be an easy way to draw in viewers attention and interest
            by giving them some active interaction that will also hopefully guide them to the conclusion that we want them to make.
            We are also making a bar chart that will allow users to input their home country and see diabetes prevalence
            to allow for a sense of relativity, as well as hopefully further boost engagement.
        </p>
        <p>
            In terms of the most challenging parts of the project to design, we suspect that the interaction smoothness of each of the visualizations will probably be quite time consuming.
            We are also trying to convey an appropriate message through this project about diabetes and what factors can exacerbate/cause it and thus will take extra effort from us to do so.
            The styling of the page as a whole will likely be the most difficult, as we want to make the process as fluid and continuous as possible.
            Doing this will continue to require many trial and error attempts to find the perfect way to convey and display everything that we want to. 
        </p>
    </div>
    
    <button id="prev-button" style= "display:none;"><img src="./assets/next.png" width="20" height="20" style="position: relative; transform: rotate(180deg);"></button>
    <button id="next-button"><img src="./assets/next.png" width="20" height="20" style="position: relative;"></button>
</body>
</html>
